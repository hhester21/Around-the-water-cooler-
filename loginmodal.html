<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<title>Login modal</title>


<style type="text/css">
     /*just a bells and whistles for modals*/
    .modal-dialog {
        width: 20%;
    }

    img {
        margin-bottom: 20px;
    }

    input[type=email], input[type=password], input[type=text] {
        border: 1px solid #ccc;
        outline-style:none;
    }

    input[type=email]:focus, input[type=password]:focus, input[type=text]:focus {
    box-shadow:0 0 1.5px 1.5px #ccc;
    border-color: #ccc;
}

    input[type=email]:focus::-webkit-input-placeholder ,input[type=password]:focus::-webkit-input-placeholder ,input[type=text]:focus::-webkit-input-placeholder {
    color: transparent;
}

.alerts {
    color: red;
    font-size: 15px;
    font-family: Arial, Helvetica, sans-serif;
}

</style>


</head>

<body>

    <!-- Button to initialize modal -->
    <div class="container"> 
        <button class="btn btn-primary btn-lg" href="#signup" data-toggle="modal" data-target=".bs-modal-sm">Log In / Sign Up</button>
    </div>
  

    <!-- Modal begins -->
    <div class="modal fade bs-modal-sm" id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content"><br>
                <div class="bs-example bs-example-tabs">
                    <ul id="myTab" class="nav nav-tabs">
                        <li class="active"><a href="#Signintab" data-toggle="tab">Log In</a></li>
                        <li class=""><a href="#signup" data-toggle="tab">Signup</a></li>
                    </ul>
                </div>

            <div class="modal-body">
                <div id="myTabContent" class="tab-content">
        
                <!-- Log In Tab begins /////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
                    <div class="tab-pane fade active in" id="Signintab">
                        <form class="form-horizontal">
                        <fieldset>
                        <!-- Log In Form -->
                        <!-- Text input-->
                            <div class="control-group">
                                <label class="control-label" for="userid">User Name:</label>
                                <div class="controls">
                                    <input id="userid" name="userid" type="text" class="form-control input-medium" placeholder="">
                                </div>
                            </div>

                        <!-- Password input-->
                            <div class="control-group">
                                <label class="control-label" for="passwordinput">Password:</label>
                                <div class="controls">
                                    <input id="passwordinput" name="passwordinput" class="form-control input-medium" type="password" placeholder="">
                                </div>
                            </div>

                            <!-- Log in button-->
                            <div class="control-group">
                                <label class="control-label" for="signin"></label>
                                <div class="controls">
                                    <button id="signin" name="login" class="btn btn-success">Sign In</button>
                                </div>
                            </div>
    
                        </fieldset>
                        </form>
                    </div>
                    <!-- Log In Tab ends -->

    <!--Signup section begins ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
                    <div class="tab-pane fade" id="signup">
                        <form class="form-horizontal" id="signupForm">
                            <fieldset>
                            <!-- Sign Up Form -->

                            <!-- Username input-->
                                <div class="control-group">
                                    <label class="control-label" for="userid">Username:</label>
                                        <div class="controls">
                                            <input id="username" name="username" class="form-control input-large inputfields" type="text" placeholder="username (at least 6 characters)">
                                        </div>
                                </div>

                                <!-- Email input-->
                                <div class="control-group">
                                    <label class="control-label" for="Email">Email:</label>
                                    <div class="controls">
                                        <input id="email" name="email" class="form-control input-large inputfields" type="email" placeholder="user@gmail.com">
                                    </div>
                                </div>
            
                                <!-- Password input-->
                                <div class="control-group">
                                    <label class="control-label" for="password">Password:</label>
                                    <div class="controls">
                                        <input id="password" name="password" class="form-control input-large inputfields" type="password" placeholder="password (at least 8 characters)">
                                    </div>
                                </div>
            
                                <!-- Re-enter input-->
                                <div class="control-group">
                                    <label class="control-label" for="repassword">Re-Enter Password:</label>
                                    <div class="controls">
                                        <input id="repassword" class="form-control input-large" name="repassword" type="password" >
                                    </div>
                                </div>
            
                                <br>

                                <div id="alertsDiv"></div>
            
                                <!-- Signup -->
                                <div class="control-group">
                                    <label class="control-label" for="confirmsignup"></label>
                                    <div class="controls">
                                        <button id="submit" name="confirmsignup" class="btn btn-success">Sign Up</button>
                                    <!-- <button type="submit" id="submit">Signup</button> -->
                                    </div>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            
                <div class="modal-footer">
                    <center>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </center>
                </div>
            </div>
        </div>
    </div>


<script>

    

    $(document).on("click", "#submit", function(e) {
        e.preventDefault(); // prevents page from reloading
        $("#alertsDiv").empty(); // empties div with alerts 

        //resets input fields colors and shadows to default                                                             
        $("#username").css('border-color', '#ccc');            
        $("#username").css('box-shadow', 'none');
        $("#email").css('border-color', '#ccc');
        $("#email").css('box-shadow', 'none');
        $("#password").css('border-color', '#ccc');
        $("#password").css('box-shadow', 'none');


        //this is email validation 
        var email = $("#email").val();
        var regularExp = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;


        //if the username is less than 6 characters
        if ($("#username").val().length < 6) {
            $("#username").val("");
            $("#username").attr("placeholder","");
            $("#alertsDiv").append("<p class='alerts'>" + "Username should be at least 6 characters long" + "</p>"); 
            $("#username").css('border-color', 'red');
            $("#username").css('box-shadow', '0 0 1.5px 1.5px red'); 
        }


        //if the email has wrong format validated 
        if (regularExp.test(email) === false) {
            $("#email").val("");
            $("#email").attr("placeholder","");
            $("#alertsDiv").append("<p class='alerts'>" + "Please enter a valid email address" + "</p>");
            $("#email").css('border-color', 'red');
            $("#email").css('box-shadow', '0 0 1.5px 1.5px red'); 
        }

        //if the password is less than 8 characters
        if ($("#password").val().length < 8) {
            $("#password").val("");
            $("#password").attr("placeholder","");
            $("#alertsDiv").append("<p class='alerts'>" + "Password should be at least 8 characters long" + "</p>"); 
            $("#password").css('border-color', 'red');
            $("#password").css('box-shadow', '0 0 1.5px 1.5px red');
        }


        //if the password doesn't match repassword
        if ($("#repassword").val() !== $("#password").val() || $("#repassword").val() === "") {
            $("#repassword").val("");
            $("#password").val("");
            $("#alertsDiv").append("<p class='alerts'>" + "Passwords don't match try again" + "</p>"); 
            $("#repassword").css('border-color', 'red');
            $("#repassword").css('box-shadow', '0 0 1.5px 1.5px red');
            $("#password").css('box-shadow', '0 0 1.5px 1.5px red');
        }

        //if user met all input criterias it will create and array with his/her credentials
        if ($("#username").val().length >= 6 && $("#password").val().length >= 8 && regularExp.test(email) && $("#repassword").val() === $("#password").val()) {
            var signupArray = $("#signupForm").serializeArray();
            console.log(signupArray);
            $(".inputfields").val("");
        }
    });

</script>

</body>
</html>